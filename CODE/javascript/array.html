<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title> ARRAY </title>
</head>
<body>
  
<script>
// array basic
{
  const array = [1, 'blahblah', {}, 4, 5];
  console.log('@@array', array);

  const objects = [
    { name: '멍멍이'},
    { name: '야옹이'}
  ];

  console.log('@@obejct', objects);
  console.log('@@object 0', objects[0]);
  console.log('@@object 1', objects[1]);
  console.log('@@obejct length', objects.length);

  objects.push({
    name: '멍뭉이'
  });

  console.log('@@obejct', objects);
  console.log('@@obejct length', objects.length);
}

console.clear();



// array 내장함수 
{
  // forEach    ---> 함수형태의 파라미터를 전달
  const superheros = [ 'Iron Man', 'Captain Ameria', 'Thor', 'Doctor Strange'];
  superheros.forEach((hero) => console.log('@@foreEach', hero));
}

{
  // map    
  // --> 배열 안의 각 원소를 변환하여 새로운 배열 생성
  // --> 변화를 주는 함수를 파라미터로 전달

  // ex1
  const numbers = [1, 2, 3, 4, 5, 6, 7, 8];
  const result = numbers.map(number => number * number);
  console.log(result);

  // ex2
  const items = [
    {
      id : 1,
      text: 'hello'
    },
    {
      id: 2,
      text: 'bye'
    }
  ];
  const texts = items.map(item => item.text);
  console.log('@@map', texts);
}

{
  // indexOf, findIndex, find ==> 처음 찾은 값만 반환

  // indexOf  
  // --> 원하는 항목이 몇번째 원소인지 찾아주는 함수 (배열 안에 있는 값이 숫자, 문자열, 또는 불리언일 때)
  const superheros = [ 'Iron Man', 'Captain Ameria', 'Thor', 'Doctor Strange'];
  let index =  superheros.indexOf('Thor'); // 2
  console.log('@@indexOf', index); 
  index = superheros.indexOf('Doctor Strange'); //3
  console.log('@@indexOf', index); 

  // findIndex
  // --> 원하는 항목이 몇번째 원소인지 찾아주는 함수 (배열 안에 있는 값이 객체이거나, 배열일 때)
  // --> 검사하고자 하는 조건을 반환하는 함수를 파라미터로 전달
  const todos = [
    {
      id: 1,
      text: '자바스크립트 입문',
      done: true
    }, {
      id: 2,
      text: '함수배우기',
      done: true
    }, {
      id: 3,
      text: '객체와 배열 배우기',
      done: true
    }, {
      id: 4,
      text: '배열 내장함수 배우기',
      done: false
    }
  ];

  const findIndex = todos.findIndex(todo => todo.id === 2);
  console.log('@@findIndex', findIndex);


  // find  --> 찾아낸 값 자체를 반환 (findIndex랑 비슷하지만, find는 찾아낸 값이 몇번째인지 알아내는 것이 아니라)
  const todo = todos.find(todo => !todo.done);
  console.log('@@find', todo);
}

{
  // filter
  // --> 배열에서 특정 조건을 만족하는 값들만 따로 추출하여 새로운 배열 생성
  // --> 조건을 검사하는 함수를 파라미터로 전달하여 각 원소의 값을 받아옴
  const todos = [
    {
      id: 1,
      text: '자바스크립트 입문',
      done: true
    }, {
      id: 2,
      text: '함수배우기',
      done: true
    }, {
      id: 3,
      text: '객체와 배열 배우기',
      done: true
    }, {
      id: 4,
      text: '배열 내장함수 배우기',
      done: false
    }
  ];

  const tasksNotDone = todos.filter(todo => !todo.done);
  console.log('@@filter', tasksNotDone);
}

{
  // splice 
  // --> 배열에서 특정 항목을 제거할 때 사용
  // --> 기존의 배열에 변화가 생김
  const numbers = [10, 20, 30, 40];
  const index = numbers.indexOf(30); // 2
  const splice = numbers.splice(index, 1); // 30 (index2부터 1개를 지우겠다)
  console.log('@@splice', splice); // [30]
  console.log('@@origin array', numbers); // [10, 20, 40] 
}
{
  // slice 
  // --> 배열을 잘라낼 때 사용 (splice와 비슷)
  // --> NOTE : 기존의 배열에 변화가 없음.
  const numbers = [10, 20, 30, 40];
  const slice = numbers.slice(0, 2);
  console.log(slice); // [10, 20]
  console.log(numbers); // [10, 20, 30, 40]
}



// pop, push, shift, unshift ---> 배열 자체를 바꾸는 내장함수들
{
  // pop  --> 맨 뒤의 요소를 빼냄
  const numbers = [10, 20, 30, 40, 50];
  const value = numbers.pop();
  console.log(value); // 50
  console.log(numbers); // [10, 20, 30, 40]
}
{
  // push  --> 맨 뒤에 요소를 밀어넣고
  const numbers = [10, 20, 30, 40, 50];
  numbers.push(60); // 맨 뒤에 요소를 밀어넣고
  const pop = numbers.pop(); // 맨 뒤의 요소를 빼냄
  console.log(pop); 
  console.log(numbers); 
}
{
  // shift  --> 맨 앞의 원소 하나를 꺼냄. 기존 배열을 수정함
  const numbers = [10, 20, 30, 40, 50];
  const value = numbers.shift();
  console.log(value); // 10
  console.log(numbers); // [20, 30, 40, 50]
}
{
  // unshift  --> 맨 앞의 원소 하나를 집어넣음
  const numbers = [10, 20, 30, 40, 50];
  numbers.unshift(5); // 맨 앞에 5를 집어넣음
  const value = numbers.shift(); // 맨 앞의 5를 빼냄
  console.log(numbers); // [10, 20, 30, 40, 50]
}

console.clear();


{
  // reduce

  // ex1
  const numbers = [1, 2, 3, 4, 5];
  const avg = numbers.reduce((accumulator, current, index, array) => {

    // array.length - 1 : array의 마지막요소 5를 의미함 (index 4)
    if (index === array.length - 1) {
      return (accumulator + current) / array.length;
    }
    return accumulator + current;

    // accumulator + current
  }, 0);
  console.log(avg);

  // ex2
  const alphabets = ['a', 'a', 'a', 'b', 'c', 'c', 'd', 'e'];
  const counts = alphabets.reduce((acc, current) => {  

    if (acc[current]) {
      acc[current] += 1;
    } else {
      acc[current] = 1;
    }
    return acc;

  }, {});
  
  console.log(counts);

}










  
</script>
</body>
</html>
